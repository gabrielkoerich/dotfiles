# Dotfiles SSH hardening (public/network-exposed profile)
# Generated from dotfiles template. Managed by bin/install/ssh-hardening.

Protocol 2
PermitRootLogin no
PubkeyAuthentication yes
PasswordAuthentication no
KbdInteractiveAuthentication no
ChallengeResponseAuthentication no
UsePAM yes

# Reduce brute-force surface
MaxAuthTries 3
LoginGraceTime 20
MaxSessions 5
MaxStartups 10:30:60

# Restrict SSH to a specific user
AllowUsers __SSH_USER__

# Disable features not needed for iPhone + tmux usage
X11Forwarding no
AllowTcpForwarding no
AllowAgentForwarding no
PermitTunnel no

# Keep stale mobile sessions from hanging forever
ClientAliveInterval 120
ClientAliveCountMax 2
